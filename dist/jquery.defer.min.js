/*! Defer - v0.1.0 - 2013-01-23
* https://github.com/wheresrhys/jquery.defer
* Copyright (c) 2013 Rhys Evans; Licensed MIT */
(function(e){function t(t,n){if(!e.isArray(n)){if(!n.promise)return t;n=[n]}var r=this,i=function(){var i=this!==window&&this,s=arguments;e.when.apply(null,n).done(function(){t.apply(i||r,s)})};return i._originalFunction=t,i}function n(e,n,r){return t.call(n,n[e],r)}e.defer=function(r,i,s){var o,u,a,f={},l=!!s&&!!s.applyToPrototype;if(e.isFunction(r))return t(r,i);if(s&&s.methods){o=s.methods.split(" ");for(u=o.length-1;u>=0;u--)r[o[u]]=n(o[u],r,i)}else{if(s&&s.exclude){o=s.exclude.split(" ");for(u=o.length-1;u>=0;u--)f[o[u]]=!0}for(a in r){if(f[a])continue;(l||r.hasOwnProperty(a))&&e.isFunction(r[a])&&(r[a]=n(a,r,i))}}return r},e.undeferrize=function(e,t,n){}})(jQuery);